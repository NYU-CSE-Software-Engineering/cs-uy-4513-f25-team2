<h1 class="display-5 mb-4">My Upcoming Sessions (Tutor)</h1>

<% if @upcoming_sessions.any? %>
  <ul class="sessions-list upcoming-sessions list-unstyled">
    <% @upcoming_sessions.each do |session| %>
      <li class="session card mb-3">
        <div class="card-body">
          <h5 class="card-title">
            <span class="badge bg-primary mb-2"><%= session.subject.name %></span>
          </h5>
          <p class="card-text">
            <strong>Time:</strong>
            <span class="visually-hidden"><%= session.start_at.utc.iso8601 %> – <%= session.end_at.utc.iso8601 %></span>
            <small class="text-muted d-block">
              <%= session.start_at.strftime('%B %d, %Y at %I:%M %p') %> – 
              <%= session.end_at.strftime('%I:%M %p') %>
            </small>
          </p>
          <p class="card-text">
            <strong>Capacity:</strong> <%= session.capacity %> seats
          </p>

          <% if session.meeting_link.present? %>
            <p class="card-text">
              <strong>Meeting Link:</strong>
              <%= link_to 'Join Session', session.meeting_link, target: '_blank', class: "btn btn-success btn-sm" %>
            </p>
          <% end %>
          <div class="btn-group-custom">
            <%= link_to "Edit", edit_tutor_session_path(session), class: "btn btn-outline-primary btn-sm" %>
            <%= link_to 'Cancel', cancel_tutor_session_path(session), class: "btn btn-outline-danger btn-sm" %>
          </div>
        </div>
      </li>
    <% end %>
  </ul>
<% else %>
  <div class="empty-state">
    <p class="lead">You have no upcoming sessions.</p>
  </div>
<% end %>

<p class="mt-4">
  <%= link_to 'View past sessions', past_tutor_sessions_path, class: "btn btn-outline-secondary" %>
</p>
