<h1 class="display-5 mb-4">Search Results</h1>

<% if @sessions.any? %>
  <div class="row row-cols-1 row-cols-md-2 g-4">
    <% @sessions.each do |session| %>
      <div class="col">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">
              <span class="badge bg-primary"><%= session.subject.name %></span>
            </h5>
            <p class="card-text">
              <strong>Tutor:</strong> <%= session.tutor.learner.first_name %> <%= session.tutor.learner.last_name %>
            </p>
            <p class="card-text">
              <strong>Time:</strong><br>
              <small class="text-muted">
                <%= session.start_at.strftime('%B %d, %Y at %I:%M %p') %> â€“
                <%= session.end_at.strftime('%I:%M %p') %>
              </small>
            </p>

            <% start_str = session.start_at.utc.strftime('%Y-%m-%dT%H:%M:%SZ') %>
            <% end_str = session.end_at.utc.strftime('%Y-%m-%dT%H:%M:%SZ') %>

            <div class="mt-auto pt-3">
              <%= button_to "Select",
                            confirm_session_path(session),
                            method: :get,
                            class: "btn btn-success btn-sm" %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="empty-state">
    <p class="lead">No sessions found matching your criteria.</p>
    <p>Try adjusting your search filters.</p>
  </div>
<% end %>